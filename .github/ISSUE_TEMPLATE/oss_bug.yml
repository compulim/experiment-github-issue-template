name: Bug report (open source)
description: Create a report to help us improve our product.
labels:
  - bug
body:
  - type: markdown
    attributes:
      value: |
        We run this project out of our spare time and may not monitor this repository every day. Our support capacity is very limited and developers in professional capacity will receive prioritized support.

        *Please redact or remove all confidential or personal information.*
  - type: dropdown
    attributes:
      label: Version
      description: |
        Please verify the issue on latest versions. If you are using latest production, please verify against our latest development version as the issue could have resolved recently.

        To install latest development version, run `npm install use-memo-map@main`.

        Support on non-latest version is minimal and on a per case basis.
      multiple: true
      options:
        - Latest production (@latest)
        - Latest development (@main)
        - Not latest
    validations:
      required: true
  - type: dropdown
    attributes:
      label: Module resolution
      description: Please describe how you import our package.
      multiple: true
      options:
        - 'ESM: import { useMemoMap } from "use-memo-map"'
        - 'ESM: import useMemoMap from "use-memo-map/useMemoMap"'
        - 'CJS: require("use-memo-map")'
        - 'CJS: require("use-memo-map/useMemoMap")'
        - Others or unrelated
    validations:
      required: true
  - type: dropdown
    attributes:
      label: Bundler
      description: For apps, please tell us what bundler is used to create your app bundle.
      multiple: true
      options:
        - 'Webpack: Vanilla'
        - 'Webpack: "create-react-app"'
        - 'Webpack: Others'
        - ESBuild
        - Not an app
        - Others or unrelated
    validations:
      required: true
  - type: dropdown
    attributes:
      label: Environment
      description: |
        We support [Browserslist "defaults"](https://github.com/browserslist/browserslist#full-list) and Internet Explorer mode. Support of other environments are limited.

        When using in a sandboxed environment (e.g. SharePoint, Salesforce, etc.), please verify the issue outside of the sandbox. If the issue is related to the sandbox, please file it to your sandbox vendor.
      multiple: true
      options:
        - Modern browsers (browserlist "defaults")
        - Internet Explorer mode
        - Server-side rendering
        - Others or unrelated
    validations:
      required: true
  - type: textarea
    attributes:
      label: Test case
      description: |
        Please write a test case which fail the scenario and add comments in [BDD format (given/when/then)](https://www.thoughtworks.com/insights/blog/applying-bdd-acceptance-criteria-user-stories).

        *Our support will be slow if a test case is not provided.*

        Once the issue is resolved, your test case will become part of [our test suite](../../tree/main/packages/integration-test/) to protect from regressions.

        For your convenience, a basic test case is provided below. For advanced scenarios, please look at [our test suite](../../tree/main/packages/integration-test/).
      render: js
      value: |
        import { renderHook } from '@testing-library/react-hooks';
        import { useMemoMap } from 'use-memo-map';

        test('simple scenario', () => {
          // GIVEN: A "multiply by 10" mapper.
          const mapper = x => x * 10;

          // WHEN: Calling with input of [1, 2, 3].
          const { result } = renderHook(({ input }) => useMemoMap(mapper)(input), {
            initialProps: { input: [1, 2, 3] }
          });

          // THEN: It should return [10, 20, 30].
          expect(result.current).toEqual([10, 20, 30]);
        });
  - type: textarea
    attributes:
      label: Console errors
      description: Please copy any related errors printed to the console here.
      render: js
  - type: textarea
    attributes:
      label: Additional context
